<!DOCTYPE html>
<html lang="en">

<head>
<title>ChatGPT sjakk!</title>
</head>

<link rel="stylesheet" href="style.css">
<script src="script.js"></script>
<script src="canvas.js"></script>

<body>
<p>ChessGPT!</p>

<div style="overflow: hidden;"> 
    <div style="width: 432px; float: left;">
        <canvas id="canvas" width="416" height="416"
        style="background-color:#d6d6d6f5; image-rendering: pixelated; image-rendering: crisp-edges;
">
        </canvas>
    </div>
    
    <div style="width: 500px; margin-left: 432px;">
        <p> ChatGPT says:</p>
        <div style="border:solid; padding: 10px">
            <span id="ChatGPT-text">    
            </span>
        </div>
        
        <div>
            <form>
                <br>
                <input type="radio" id="pvb" name="bot vs player" value="player vs bot">
                <label for="bvp">Play against bot</label><br>

                <input type="radio" id="bvb" name="bot vs player" value="bot vs bot">
                <label for="bvb">Watch 2 bots play against eachother</label><br>

                <br>
                <input id = "chatbot1msg" type="text" size = "100" value="">
                <label for="chatbot1msg">Message for bot 1 (black) (only in bot vs bot mode)</label>
                <br>
                <br>
                <input id = "chatbot2msg" type="text" size = "100" value="">
                <label for="chatbot2msg">Message for bot 2 (white)</label>
                <br>

              </form>


            
            <br>
            <button onclick="startTheGame()"></buttononclick> Start </button>
            <br>
            <br>
            <button onclick="nextTurn(false)"></buttononclick> Next turn </button>
        </div>
    </div>
</div>





</body>

<script> 
    framerate = 30
    images = []
    
    var canvas = document.getElementById("canvas");
    var ctx = canvas.getContext("2d");
    
    keysdown = [false,false,false,false]
    
    tileplacing = 0
    
    window.addEventListener('keydown', function (e) {    
        //console.log(e.key)
        keysdown = (keysdown || []);
        if(e.key == "w") {keysdown[0] = true;}
        if(e.key == "a") {keysdown[1] = true;}
        if(e.key == "s") {keysdown[2] = true;}
        if(e.key == "d") {keysdown[3] = true;}
    })
    
    window.addEventListener('keyup', function (e) {
        if(e.key == "w") {keysdown[0] = false;}
        if(e.key == "a") {keysdown[1] = false;}
        if(e.key == "s") {keysdown[2] = false;}
        if(e.key == "d") {keysdown[3] = false;}
    })
    
    window.addEventListener('mousemove', function (e) {
        mousee.x = e.offsetX
        mousee.y = e.offsetY
    })
    
    window.addEventListener('click', function (e) {
        mousee.click()
    })
    
    window.addEventListener("contextmenu", (e) => {
        e.preventDefault()
        mousee.rightclick()
    });
    
    function newImage(image) {
	    let img = new Image();
	    img.src = image;
	    return(img)
    }

    ctx.imageSmoothingEnabled = false

    
    images = []

    images.push(newImage("assets/pawn_white.png"))
    images.push(newImage("assets/rook_white.png"))
    images.push(newImage("assets/knight_white.png"))
    images.push(newImage("assets/bishop_white.png"))
    images.push(newImage("assets/queen_white.png"))
    images.push(newImage("assets/king_white.png"))

    images.push(newImage("assets/pawn_black.png"))
    images.push(newImage("assets/rook_black.png"))
    images.push(newImage("assets/knight_black.png"))
    images.push(newImage("assets/bishop_black.png"))
    images.push(newImage("assets/queen_black.png"))
    images.push(newImage("assets/king_black.png"))

    setup()
    
    </script>






</html> 